<!doctype html>
<html ng-controller="mainCtrl as main"> 
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title ng-bind="main.title"></title>
        <link rel="icon" href="img/favicon.ico">    
        
        {% for style in styles %}
        <link rel="stylesheet" href="{$ style $}">
        {% endfor %}
    </head>

    <body class="demo" ng-cloak>

        {% import 'nav.njk' as nav %}
        {$nav.active(name)$}

        <div ng-repeat="message in errs.messages" class="alert alert-danger" role="alert">
            <button type="button" class="close" aria-label="Close"
                ng-click="errs.delMsg(message)">
                <span aria-hidden="true">&times;</span>
            </button>
            <strong>{{message.title}}</strong> {{message.msg}}
        </div>

        <div class="content">
             {% block content %} {% endblock %}
        </div> 

        {% for script in scripts %}
        <script src="{$ script $}"></script>
        {% endfor %}

        <script>
        (function(UNBOUNDID) {
            angular.module(UNBOUNDID.MODULE_NAME).constant('current', '{$ name $}');
            angular.element(document).ready(function() {
                angular.bootstrap(document, ['broker']);
            });
        }(window.UNBOUNDID = window.UNBOUNDID || {}));  
        </script>   

    </body>

</html>